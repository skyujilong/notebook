<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <article>
        <p>
            给定一个数组，它的第 i 个元素是一支给定股票第 i 天的价格。 设计一个算法来计算你所能获取的最大利润。你可以尽可能地完成更多的交易（多次买卖一支股票）。 注意：你不能同时参与多笔交易（你必须在再次购买前出售掉之前的股票）。
        </p>
        <p>
            输入: [7,1,5,3,6,4] 输出: 7 解释: 在第 2 天（股票价格 = 1）的时候买入，在第 3 天（股票价格 = 5）的时候卖出, 这笔交易所能获得利润 = 5-1 = 4 。 随后，在第 4 天（股票价格 = 3）的时候买入，在第
            5 天（股票价格 = 6）的时候卖出, 这笔交易所能获得利润 = 6-3 = 3 。
        </p>
    </article>
    <button onclick="run([7, 1, 5, 3, 6, 4])">click me!</button>
    <button onclick="run([1,2,3,4,5])">click me!</button>
    <button onclick="run([7,6,4,3,1])">click me!</button>
    <script>
        /**
         * @param {number[]} prices
         * @return {number}
         */
        var maxProfit = function (prices) {
            let current = 0;
            if (prices.length == 1) {
                return current;
            }

            for (let i = 0; i < prices.length;) {

                if(i+1 !== prices.length && prices[i] < prices[i+1]){
                    //在i点买入
                    for (let j = i; j < prices.length; j++) {

                        if (j + 1 !== prices.length && prices[j] < prices[j + 1]) {
                            //j点的数字 比 j+1的数字小， 向后移动查找找大的。
                            //跳越指针到卖出点
                            continue;
                        }
                        //卖出条件
                        if(prices[i] < prices[j]){
                            //卖出
                            current += (prices[j] - prices[i]);
                            i = j + 1;
                            break;
                        }
                    }

                }else{
                    i++;
                    continue;
                }

                
            }
            return current;
        };
    </script>
    <script>
        function run(array){
            let result =  maxProfit(array);
            console.log(result);
        }
    </script>
</body>

</html>